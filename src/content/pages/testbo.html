<!DOCTYPE html>
<html>
    <head>
        <title>Beggar's Opera</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <link rel="stylesheet" href="tei.css">
        <script src="CETEI.js"></script>
        <script>
            let c = new CETEI();
            c.getHTML5('bo1.xml', function (data) {
                document.getElementsByTagName("body")[0].appendChild(data);
            });</script>
            <script src="https://www.verovio.org/javascript/latest/verovio-toolkit-wasm.js" defer></script>
            <script>
                document.addEventListener("DOMContentLoaded", (event) => {
                    Module.onRuntimeInitialized = async _ => {
                        let tk = new verovio.toolkit();
                        console.log("Verovio has loaded!");
                        tk.setOptions({
                            scale: 20,
                            landscape: true,
                            adjustPageWidth: true
                        });
                        tk.renderToSVG
                        console.log("Verovio options:", tk.getOptions());


                        fetch("https://raw.githubusercontent.com/BeggarsOpera/CeTEIcean/master/test.mei")
                            .then((response) => response.text())
                            .then((meiXML) => {
                                let svg = tk.renderData(meiXML, {});
                                document.getElementById("notation").innerHTML = svg;
                            });
                    }
                });
            </script>
    </head>
    <body> </body>
</html>
